<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/WebPage">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Cobalt / Starboard Module Reference: decode_target.h</title>

            <!-- Webfont -->
    
    <link href='https://fonts.googleapis.com/css?family=Kavoon|Material+Icons' rel='stylesheet' type='text/css'>
    


    <!-- Material Design Lite -->
    <link href="/assets/material-design-lite/material.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!-- Bootstrap -->
    <link href="/assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Styles -->
    <link rel="stylesheet" type="text/css" href="/css/site.css" />

    <!-- Font Awesome icons -->
    <link href="/assets/font-awesome-4.4.0/css/font-awesome.min.css"
          rel="stylesheet"
          type="text/css">
    
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/assets/bootstrap/js/bootstrap.min.js"></script>

    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>

    <!-- material design lite -->
    <script src="/assets/material-design-lite/material.min.js"></script>
    
    <!-- Include the common site javascript -->
    <script src="/js/common.js" type="text/javascript" charset="utf-8"></script>


    <!-- metadata -->
    <meta name="og:title" content="Cobalt / Starboard Module Reference: decode_target.h"/>
    <meta name="og:image" content="/images/cobalt-logo.png"/>
    <meta name="og:description" content="A high-performance, small-footprint platform that implements a subset of HTML5/CSS/JS to run applications, including the YouTube TV app."/>
  </head>
  <body class="docs" id="top_of_page">

    <span id="toc-depth" data-toc-depth="h2,h3"></span>



    <nav id="common-nav" class="navbar navbar-fixed-top inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">
        <img class="logo" src="/images/cobalt-logo.png" alt="Cobalt">
      </a>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right" id="standard-menu-links">
        
  
    
  
  
    
      <li><a href="/starboard/porting.html">Porters</a></li>
    
  

  
    
  
  
    
      <li><a href="/development/setup-linux.html">Developers</a></li>
    
  

  
    
  
  
    
      <li><a href="/contributors/index.html">Contributors</a></li>
    
  

  
    
  
  
    
      
        <li><a href="https://cobalt.googlesource.com/cobalt">Code Repo</a></li>
      
    
  


      </ul>
      <ul class="nav nav-stacked mobile-left-nav-menu" id="collapsed-left-menu">
        
  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu no-top-margin"><a href="/overview.html">Overview</a></h4>
      
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
        
          <h4 class="submenu">Porters</h4>
        
      
  <ul class="content">
      
        
    <li><b>Guides</b>
          
      <ul>
            
              
        <li><a href="/starboard/porting.html">Port Cobalt to your platform</a></li>
              
            
              
        <li><a href="/starboard/testing.html">Testing with NPLB</a></li>
              
            
      </ul>
    </li>
          
        
      
        
    <li><b>Reference</b>
          
      <ul>
            
              
        <li><a href="/reference/starboard/configuration-public.html">configuration_public.h</a></li>
              
            
              
        <li><a href="/reference/starboard/gyp-configuration.html">gyp_configuration.gypi</a></li>
              
            
              
                <li><b>Starboard modules</b>
                
          <ul>
                  
                    
                      <li><a href="/reference/starboard/modules/accessibility.html">accessibility.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/atomic.html">atomic.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/audio_sink.html">audio_sink.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/blitter.html">blitter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/byte_swap.html">byte_swap.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/character.html">character.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/condition_variable.html">condition_variable.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/configuration.html">configuration.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/cryptography.html">cryptography.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/decode_target.html">decode_target.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/directory.html">directory.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/double.html">double.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/drm.html">drm.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/event.html">event.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/export.html">export.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/file.html">file.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/image.html">image.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/input.html">input.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/key.html">key.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/log.html">log.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/media.html">media.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/memory.html">memory.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/memory_reporter.html">memory_reporter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/microphone.html">microphone.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/mutex.html">mutex.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/once.html">once.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/player.html">player.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/queue.html">queue.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/socket.html">socket.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/socket_waiter.html">socket_waiter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/speech_recognizer.html">speech_recognizer.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/speech_synthesis.html">speech_synthesis.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/spin_lock.html">spin_lock.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/storage.html">storage.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/string.html">string.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/system.html">system.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/thread.html">thread.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/thread_types.html">thread_types.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/time.html">time.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/time_zone.html">time_zone.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/types.html">types.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/user.html">user.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/window.html">window.h</a></li>
                    
                  
          </ul>
                
              
            
      </ul>
    </li>
          
        
      
  </ul>
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
        
          <h4 class="submenu">Developers</h4>
        
      
  <ul class="content">
      
        
    <li><b>Guides</b>
          
      <ul>
            
              
        <li><a href="/development/setup-linux.html">Setup - Linux</a></li>
              
            
              
        <li><a href="/development/setup-raspi.html">Setup - RasPi</a></li>
              
            
      </ul>
    </li>
          
        
      
        
    <li><b>Reference</b>
          
      <ul>
            
              
        <li><a href="/development/reference/supported-features.html">Cobalt support</a></li>
              
            
      </ul>
    </li>
          
        
      
  </ul>
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu"><a href="/contributors/index.html">Contributors</a></h4>
      
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu"><a href="/communication.html">Communication</a></h4>
      
    
</li>
  


        <li><a href="https://cobalt.googlesource.com/cobalt" id="collapsed-left-menu-repo-link"><i class="fa fa-github"></i> GitHub</a></li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container -->
</nav>


    
<div id="masthead">
  <div class="container">
    <div class="row">
      <div class="col-md-11">
        <h1>Starboard Module Reference: decode_target.h</h1>
      </div>
    </div>
  </div>
</div>


<div class="container">
    <div class="row scroll-margin" id="toc-content-row">
    <div class="col-md-2" id="leftCol">
      <ul class="nav nav-stacked mobile-left-nav-menu" id="sidebar">
        
  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu no-top-margin"><a href="/overview.html">Overview</a></h4>
      
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
        
          <h4 class="submenu">Porters</h4>
        
      
  <ul class="content">
      
        
    <li><b>Guides</b>
          
      <ul>
            
              
        <li><a href="/starboard/porting.html">Port Cobalt to your platform</a></li>
              
            
              
        <li><a href="/starboard/testing.html">Testing with NPLB</a></li>
              
            
      </ul>
    </li>
          
        
      
        
    <li><b>Reference</b>
          
      <ul>
            
              
        <li><a href="/reference/starboard/configuration-public.html">configuration_public.h</a></li>
              
            
              
        <li><a href="/reference/starboard/gyp-configuration.html">gyp_configuration.gypi</a></li>
              
            
              
                <li><b>Starboard modules</b>
                
          <ul>
                  
                    
                      <li><a href="/reference/starboard/modules/accessibility.html">accessibility.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/atomic.html">atomic.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/audio_sink.html">audio_sink.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/blitter.html">blitter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/byte_swap.html">byte_swap.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/character.html">character.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/condition_variable.html">condition_variable.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/configuration.html">configuration.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/cryptography.html">cryptography.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/decode_target.html">decode_target.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/directory.html">directory.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/double.html">double.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/drm.html">drm.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/event.html">event.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/export.html">export.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/file.html">file.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/image.html">image.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/input.html">input.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/key.html">key.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/log.html">log.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/media.html">media.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/memory.html">memory.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/memory_reporter.html">memory_reporter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/microphone.html">microphone.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/mutex.html">mutex.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/once.html">once.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/player.html">player.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/queue.html">queue.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/socket.html">socket.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/socket_waiter.html">socket_waiter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/speech_recognizer.html">speech_recognizer.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/speech_synthesis.html">speech_synthesis.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/spin_lock.html">spin_lock.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/storage.html">storage.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/string.html">string.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/system.html">system.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/thread.html">thread.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/thread_types.html">thread_types.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/time.html">time.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/time_zone.html">time_zone.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/types.html">types.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/user.html">user.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/window.html">window.h</a></li>
                    
                  
          </ul>
                
              
            
      </ul>
    </li>
          
        
      
  </ul>
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
        
          <h4 class="submenu">Developers</h4>
        
      
  <ul class="content">
      
        
    <li><b>Guides</b>
          
      <ul>
            
              
        <li><a href="/development/setup-linux.html">Setup - Linux</a></li>
              
            
              
        <li><a href="/development/setup-raspi.html">Setup - RasPi</a></li>
              
            
      </ul>
    </li>
          
        
      
        
    <li><b>Reference</b>
          
      <ul>
            
              
        <li><a href="/development/reference/supported-features.html">Cobalt support</a></li>
              
            
      </ul>
    </li>
          
        
      
  </ul>
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu"><a href="/contributors/index.html">Contributors</a></h4>
      
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu"><a href="/communication.html">Communication</a></h4>
      
    
</li>
  


      </ul>
    </div>
    <div class="col-md-3 show-share-buttons-bottom" id="rightCol">
      <div class="nav nav-stacked" id="tocSidebar">
        
        <div id="toc"></div>
        
          <div id="rightCol-share-buttons" class="share-buttons-bottom">
            

  


          </div>
        
      </div>
    </div>
    <div class="col-md-7" id="centerCol">
      <div id="content">
        <p>A target for decoding image and video data into. This corresponds roughly to an
EGLImage, but that extension may not be fully supported on all GL platforms.
SbDecodeTarget supports multi-plane targets. The SbBlitter API is supported as
well, and this is able to more-or-less unify the two.</p>

<p>An SbDecodeTarget can be passed into any function which decodes video or image
data. This allows the application to allocate fast graphics memory, and have
decoding done directly into this memory, avoiding unnecessary memory copies, and
also avoiding pushing data between CPU and GPU memory unnecessarily.</p>

<h2 id="sbdecodetargetformat">SbDecodeTargetFormat</h2>

<p>SbDecodeTargets support several different formats that can be used to decode
into and render from. Some formats may be easier to decode into, and others may
be easier to render. Some may take less memory. Each decoder needs to support
the SbDecodeTargetFormat passed into it, or the decode will produce an error.
Each decoder provides a way to check if a given SbDecodeTargetFormat is
supported by that decoder.</p>

<h2 id="sbdecodetargetgraphicscontextprovider">SbDecodeTargetGraphicsContextProvider</h2>

<p>Some components may need to acquire SbDecodeTargets compatible with a certain
rendering context, which may need to be created on a particular thread. The
SbDecodeTargetGraphicsContextProvider are passed in to the Starboard
implementation from the application and provide information about the rendering
context that will be used to render the SbDecodeTarget objects. For GLES
renderers, it also provides functionality to enable the Starboard implementation
to run arbitrary code on the application&#39;s renderer thread with the renderer&#39;s
EGLContext held current. This may be useful if your SbDecodeTarget creation code
needs to execute GLES commands like, for example, glGenTextures().</p>

<p>The primary usage is likely to be the the SbPlayer implementation on some
platforms.</p>

<h2 id="sbdecodetarget-example">SbDecodeTarget Example</h2>

<p>Let&#39;s say that we are an application and we would like to use the interface
defined in starboard/image.h to decode an imaginary &quot;image/foo&quot; image type.</p>

<p>First, the application should enumerate which SbDecodeTargetFormats are
supported by that decoder.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">SbDecodeTargetFormat kPreferredFormats[] = {
    kSbDecodeTargetFormat3PlaneYUVI420,
    kSbDecodeTargetFormat1PlaneRGBA,
    kSbDecodeTargetFormat1PlaneBGRA,
};

SbDecodeTargetFormat format = kSbDecodeTargetFormatInvalid;
for (int i = 0; i &lt; SB_ARRAY_SIZE_INT(kPreferredFormats); ++i) {
  if (SbImageIsDecodeSupported(&quot;image/foo&quot;, kPreferredFormats[i])) {
    format = kPreferredFormats[i];
    break;
  }
}
</code></pre></div>
<p>Now that the application has a format, it can create a decode target that it
will use to decode the .foo file into. Let&#39;s assume format is
kSbDecodeTargetFormat1PlaneRGBA, that we are on an EGL/GLES2 platform. Also, we
won&#39;t do any error checking, to keep things even simpler.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">SbDecodeTarget target = SbImageDecode(
    context_provider, encoded_foo_data, encoded_foo_data_size,
    &quot;image/foo&quot;, format);

// If the decode works, you can get the texture out and render it.
SbDecodeTargetInfo info;
SbMemorySet(&amp;info, 0, sizeof(info));
SbDecodeTargetGetInfo(target, &amp;info);
GLuint texture =
    info.planes[kSbDecodeTargetPlaneRGBA].texture;
</code></pre></div>
<h2 id="macros">Macros</h2>

<h3 id="ksbdecodetargetinvalid">kSbDecodeTargetInvalid</h3>

<p>Well-defined value for an invalid decode target handle.</p>

<h2 id="enums">Enums</h2>

<h3 id="sbdecodetargetformat">SbDecodeTargetFormat</h3>

<p>The list of all possible decoder target formats. An SbDecodeTarget consists of
one or more planes of data, each plane corresponding with a surface. For some
formats, different planes will be different sizes for the same dimensions.</p>

<p>NOTE: For enumeration entries with an alpha component, the alpha will always be
premultiplied unless otherwise explicitly specified.</p>

<h4 id="values">Values</h4>

<ul>
<li><p><code class="prettyprint">kSbDecodeTargetFormat1PlaneRGBA</code></p>

<p>A decoder target format consisting of a single RGBA plane, in that channel
order.</p></li>
<li><p><code class="prettyprint">kSbDecodeTargetFormat1PlaneBGRA</code></p>

<p>A decoder target format consisting of a single BGRA plane, in that channel
order.</p></li>
<li><p><code class="prettyprint">kSbDecodeTargetFormat2PlaneYUVNV12</code></p>

<p>A decoder target format consisting of Y and interleaved UV planes, in that
plane and channel order.</p></li>
<li><p><code class="prettyprint">kSbDecodeTargetFormat3PlaneYUVI420</code></p>

<p>A decoder target format consisting of Y, U, and V planes, in that order.</p></li>
<li><p><code class="prettyprint">kSbDecodeTargetFormat3Plane10BitYUVI420</code></p>

<p>A decoder target format consisting of 10bit Y, U, and V planes, in that
order.</p></li>
<li><p><code class="prettyprint">kSbDecodeTargetFormat1PlaneUYVY</code></p>

<p>A decoder target format consisting of a single plane with pixels layed out
in the format UYVY. Since there are two Y values per sample, but only one U
value and only one V value, horizontally the Y resolution is twice the size
of both the U and V resolutions. Vertically, they Y, U and V all have the
same resolution. This is a YUV 422 format. When using this format with GL
platforms, it is expected that the underlying texture will be set to the
GL_RGBA format, and the width of the texture will be equal to the number of
UYVY tuples per row (e.g. the u/v width resolution). Content region
left/right should be specified in u/v width resolution.</p></li>
<li><p><code class="prettyprint">kSbDecodeTargetFormatInvalid</code></p>

<p>An invalid decode target format.</p></li>
</ul>

<h3 id="sbdecodetargetplane">SbDecodeTargetPlane</h3>

<p>All the planes supported by SbDecodeTarget.</p>

<h4 id="values">Values</h4>

<ul>
<li><p><code class="prettyprint">kSbDecodeTargetPlaneRGBA</code></p>

<p>The RGBA plane for the RGBA format.</p></li>
<li><p><code class="prettyprint">kSbDecodeTargetPlaneBGRA</code></p>

<p>The BGRA plane for the BGRA format.</p></li>
<li><p><code class="prettyprint">kSbDecodeTargetPlaneY</code></p>

<p>The Y plane for multi-plane YUV formats.</p></li>
<li><p><code class="prettyprint">kSbDecodeTargetPlaneUV</code></p>

<p>The UV plane for 2-plane YUV formats.</p></li>
<li><p><code class="prettyprint">kSbDecodeTargetPlaneU</code></p>

<p>The U plane for 3-plane YUV formats.</p></li>
<li><p><code class="prettyprint">kSbDecodeTargetPlaneV</code></p>

<p>The V plane for 3-plane YUV formats.</p></li>
</ul>

<h2 id="typedefs">Typedefs</h2>

<h3 id="sbdecodetarget">SbDecodeTarget</h3>

<p>A handle to a target for image data decoding.</p>

<h4 id="definition">Definition</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">typedef SbDecodeTargetPrivate* SbDecodeTarget
</code></pre></div>
<h3 id="sbdecodetargetglescontextrunner">SbDecodeTargetGlesContextRunner</h3>

<p>Signature for a function provided by the application to the Starboard
implementation that will let the Starboard implementation run arbitrary code on
the application&#39;s renderer thread with the application&#39;s EGLContext held
current.</p>

<h4 id="definition">Definition</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">typedef void(* SbDecodeTargetGlesContextRunner) (struct SbDecodeTargetGraphicsContextProvider *graphics_context_provider, SbDecodeTargetGlesContextRunnerTarget target_function, void *target_function_context)
</code></pre></div>
<h3 id="sbdecodetargetglescontextrunnertarget">SbDecodeTargetGlesContextRunnerTarget</h3>

<p>Signature for a Starboard implementaion function that is to be run by a
SbDecodeTargetGlesContextRunner callback.</p>

<h4 id="definition">Definition</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">typedef void(* SbDecodeTargetGlesContextRunnerTarget) (void *gles_context_runner_target_context)
</code></pre></div>
<h2 id="structs">Structs</h2>

<h3 id="sbdecodetargetgraphicscontextprovider">SbDecodeTargetGraphicsContextProvider</h3>

<p>In general, the SbDecodeTargetGraphicsContextProvider structure provides
information about the graphics context that will be used to render
SbDecodeTargets. Some Starboard implementations may need to have references to
some graphics objects when creating/destroying resources used by SbDecodeTarget.
References to SbDecodeTargetGraphicsContextProvider objects should be provided
to all Starboard functions that might create SbDecodeTargets (e.g.
SbImageDecode()).</p>

<h4 id="members">Members</h4>

<ul>
<li><p><code class="prettyprint">SbBlitterDevice device</code></p>

<p>The SbBlitterDevice object that will be used to render any produced
SbDecodeTargets.</p></li>
</ul>

<h3 id="sbdecodetargetinfo">SbDecodeTargetInfo</h3>

<p>Contains all information about a decode target, including all of its planes.
This can be queried via calls to SbDecodeTargetGetInfo().</p>

<h4 id="members">Members</h4>

<ul>
<li><p><code class="prettyprint">SbDecodeTargetFormat format</code></p>

<p>The decode target format, which would dictate how many planes can be
expected in <code class="prettyprint">planes</code>.</p></li>
<li><p><code class="prettyprint">bool is_opaque</code></p>

<p>Specifies whether the decode target is opaque. The underlying source of this
value is expected to be properly maintained by the Starboard implementation.
So, for example, if an opaque only image type were decoded into an
SbDecodeTarget, then the implementation would configure things in such a way
that this value is set to true. By opaque, it is meant that all alpha values
are guaranteed to be 255, if the decode target is of a format that has alpha
values. If the decode target is of a format that does not have alpha values,
then this value should be set to true. Applications may rely on this value
in order to implement certain optimizations such as occlusion culling.</p></li>
<li><p><code class="prettyprint">int width</code></p>

<p>The width of the image represented by this decode target.</p></li>
<li><p><code class="prettyprint">int height</code></p>

<p>The height of the image represented by this decode target.</p></li>
<li><p><code class="prettyprint">SbDecodeTargetInfoPlane planes</code></p>

<p>The image planes (e.g. kSbDecodeTargetPlaneRGBA, or {kSbDecodeTargetPlaneY,
kSbDecodeTargetPlaneU, kSbDecodeTargetPlaneV} associated with this decode
target.</p></li>
</ul>

<h3 id="sbdecodetargetinfocontentregion">SbDecodeTargetInfoContentRegion</h3>

<p>Defines a rectangular content region within a SbDecodeTargetInfoPlane structure.</p>

<h4 id="members">Members</h4>

<ul>
<li>  <code class="prettyprint">int left</code></li>
<li>  <code class="prettyprint">int top</code></li>
<li>  <code class="prettyprint">int right</code></li>
<li>  <code class="prettyprint">int bottom</code></li>
</ul>

<h3 id="sbdecodetargetinfoplane">SbDecodeTargetInfoPlane</h3>

<p>Defines an image plane within a SbDecodeTargetInfo object.</p>

<h4 id="members">Members</h4>

<ul>
<li><p><code class="prettyprint">SbBlitterSurface surface</code></p>

<p>A handle to the Blitter surface that can be used for rendering.</p></li>
<li><p><code class="prettyprint">int width</code></p>

<p>The width of the texture/surface for this particular plane.</p></li>
<li><p><code class="prettyprint">int height</code></p>

<p>The height of the texture/surface for this particular plane.</p></li>
<li><p><code class="prettyprint">SbDecodeTargetInfoContentRegion content_region</code></p>

<p>The following properties specify a rectangle indicating a region within the
texture/surface that contains valid image data. The top-left corner is (0,
0) and increases to the right and to the bottom. The units specified by
these parameters are number of pixels. The range for left/right is [0,
width], and for top/bottom it is [0, height].</p></li>
</ul>

<h2 id="functions">Functions</h2>

<h3 id="privatedecodetargetreleaser">PrivateDecodeTargetReleaser</h3>

<p>This function is just an implementation detail of
SbDecodeTargetReleaseInGlesContext() and should not be called directly.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">static void PrivateDecodeTargetReleaser(void *context)
</code></pre></div>
<h3 id="sbdecodetargetgetinfo">SbDecodeTargetGetInfo</h3>

<p>Writes all information about <code class="prettyprint">decode_target</code> into <code class="prettyprint">out_info</code>. Returns false if
the provided <code class="prettyprint">out_info</code> structure is not zero initialized.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">bool SbDecodeTargetGetInfo(SbDecodeTarget decode_target, SbDecodeTargetInfo *out_info)
</code></pre></div>
<h3 id="sbdecodetargetisformatvalid">SbDecodeTargetIsFormatValid</h3>

<p>Returns whether a given format is valid.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">static bool SbDecodeTargetIsFormatValid(SbDecodeTargetFormat format)
</code></pre></div>
<h3 id="sbdecodetargetisvalid">SbDecodeTargetIsValid</h3>

<p>Returns whether the given file handle is valid.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">static bool SbDecodeTargetIsValid(SbDecodeTarget handle)
</code></pre></div>
<h3 id="sbdecodetargetrelease">SbDecodeTargetRelease</h3>

<p>Returns ownership of <code class="prettyprint">decode_target</code> to the Starboard implementation. This
function will likely result in the destruction of the SbDecodeTarget and all its
associated surfaces, though in some cases, platforms may simply adjust a
reference count. In the case where SB_HAS(GLES2), this function must be called
on a thread with the context</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">void SbDecodeTargetRelease(SbDecodeTarget decode_target)
</code></pre></div>
<h3 id="sbdecodetargetreleaseinglescontext">SbDecodeTargetReleaseInGlesContext</h3>

<p>Helper function that is possibly useful to Starboard implementations that will
release a decode target on the thread with the GLES context current.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">static void SbDecodeTargetReleaseInGlesContext(SbDecodeTargetGraphicsContextProvider *provider, SbDecodeTarget decode_target)
</code></pre></div>
<h3 id="sbdecodetargetruninglescontext">SbDecodeTargetRunInGlesContext</h3>

<p>Inline convenience function to run an arbitrary
SbDecodeTargetGlesContextRunnerTarget function through a
SbDecodeTargetGraphicsContextProvider . This is intended to be called by
Starboard implementations, if it is necessary.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">static void SbDecodeTargetRunInGlesContext(SbDecodeTargetGraphicsContextProvider *provider, SbDecodeTargetGlesContextRunnerTarget target, void *target_context)
</code></pre></div>
        
          
            
          
        
      </div>
    </div>
  </div>

</div>


    
      <footer>
<div class="container">
    <div class="row">
      
        <div class="col-md-5 column-left">
          
          
            
              
  
    <span class="copyright-text">© Google 2019</span>
  


            
            
            
            
            
          
        </div>
      
        <div class="col-md-2 column-middle">
          
          
            
            
            
            
              
  <img class="footer-logo" src="/images/cobalt-logo.png" alt="Cobalt"/>


            
            
          
        </div>
      
<!--
          
          <div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div class="fb-share-button" data-href="/reference/starboard/modules/10/decode_target.html" data-layout=""></div>
&nbsp;
          <a href="https://twitter.com/" class="twitter-follow-button" data-show-screen-name="false" data-show-count="false" data-size=""></a>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


-->
    </div>
</div>
</footer>

    

    <!-- TODO: Make sure no badness from moving common.js to styles.liquid -->

    
  </body>
</html>
