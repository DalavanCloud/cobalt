<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/WebPage">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Cobalt / Starboard Module Reference: socket.h</title>

            <!-- Webfont -->
    
    <link href='https://fonts.googleapis.com/css?family=Kavoon|Material+Icons' rel='stylesheet' type='text/css'>
    


    <!-- Material Design Lite -->
    <link href="/assets/material-design-lite/material.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!-- Bootstrap -->
    <link href="/assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Styles -->
    <link rel="stylesheet" type="text/css" href="/css/site.css" />

    <!-- Font Awesome icons -->
    <link href="/assets/font-awesome-4.4.0/css/font-awesome.min.css"
          rel="stylesheet"
          type="text/css">
    
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/assets/bootstrap/js/bootstrap.min.js"></script>

    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>

    <!-- material design lite -->
    <script src="/assets/material-design-lite/material.min.js"></script>
    
    <!-- Include the common site javascript -->
    <script src="/js/common.js" type="text/javascript" charset="utf-8"></script>


    <!-- metadata -->
    <meta name="og:title" content="Cobalt / Starboard Module Reference: socket.h"/>
    <meta name="og:image" content="/images/cobalt-logo.png"/>
    <meta name="og:description" content="A high-performance, small-footprint platform that implements a subset of HTML5/CSS/JS to run applications, including the YouTube TV app."/>
  </head>
  <body class="docs" id="top_of_page">

    <span id="toc-depth" data-toc-depth="h2,h3"></span>



    <nav id="common-nav" class="navbar navbar-fixed-top inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">
        <img class="logo" src="/images/cobalt-logo.png" alt="Cobalt">
      </a>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right" id="standard-menu-links">
        
  
    
  
  
    
      <li><a href="/starboard/porting.html">Porters</a></li>
    
  

  
    
  
  
    
      <li><a href="/development/setup-linux.html">Developers</a></li>
    
  

  
    
  
  
    
      <li><a href="/contributors/index.html">Contributors</a></li>
    
  

  
    
  
  
    
      
        <li><a href="https://cobalt.googlesource.com/cobalt">Code Repo</a></li>
      
    
  


      </ul>
      <ul class="nav nav-stacked mobile-left-nav-menu" id="collapsed-left-menu">
        
  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu no-top-margin"><a href="/overview.html">Overview</a></h4>
      
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
        
          <h4 class="submenu">Porters</h4>
        
      
  <ul class="content">
      
        
    <li><b>Guides</b>
          
      <ul>
            
              
        <li><a href="/starboard/porting.html">Port Cobalt to your platform</a></li>
              
            
              
        <li><a href="/starboard/testing.html">Testing with NPLB</a></li>
              
            
      </ul>
    </li>
          
        
      
        
    <li><b>Reference</b>
          
      <ul>
            
              
        <li><a href="/reference/starboard/configuration-public.html">configuration_public.h</a></li>
              
            
              
        <li><a href="/reference/starboard/gyp-configuration.html">gyp_configuration.gypi</a></li>
              
            
              
                <li><b>Starboard modules</b>
                
          <ul>
                  
                    
                      <li><a href="/reference/starboard/modules/accessibility.html">accessibility.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/atomic.html">atomic.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/audio_sink.html">audio_sink.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/blitter.html">blitter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/byte_swap.html">byte_swap.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/character.html">character.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/condition_variable.html">condition_variable.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/configuration.html">configuration.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/cryptography.html">cryptography.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/decode_target.html">decode_target.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/directory.html">directory.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/double.html">double.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/drm.html">drm.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/event.html">event.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/export.html">export.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/file.html">file.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/image.html">image.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/input.html">input.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/key.html">key.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/log.html">log.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/media.html">media.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/memory.html">memory.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/memory_reporter.html">memory_reporter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/microphone.html">microphone.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/mutex.html">mutex.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/once.html">once.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/player.html">player.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/queue.html">queue.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/socket.html">socket.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/socket_waiter.html">socket_waiter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/speech_recognizer.html">speech_recognizer.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/speech_synthesis.html">speech_synthesis.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/spin_lock.html">spin_lock.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/storage.html">storage.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/string.html">string.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/system.html">system.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/thread.html">thread.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/thread_types.html">thread_types.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/time.html">time.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/time_zone.html">time_zone.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/types.html">types.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/user.html">user.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/window.html">window.h</a></li>
                    
                  
          </ul>
                
              
            
      </ul>
    </li>
          
        
      
  </ul>
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
        
          <h4 class="submenu">Developers</h4>
        
      
  <ul class="content">
      
        
    <li><b>Guides</b>
          
      <ul>
            
              
        <li><a href="/development/setup-linux.html">Setup - Linux</a></li>
              
            
              
        <li><a href="/development/setup-raspi.html">Setup - RasPi</a></li>
              
            
      </ul>
    </li>
          
        
      
        
    <li><b>Reference</b>
          
      <ul>
            
              
        <li><a href="/development/reference/supported-features.html">Cobalt support</a></li>
              
            
      </ul>
    </li>
          
        
      
  </ul>
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu"><a href="/contributors/index.html">Contributors</a></h4>
      
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu"><a href="/communication.html">Communication</a></h4>
      
    
</li>
  


        <li><a href="https://cobalt.googlesource.com/cobalt" id="collapsed-left-menu-repo-link"><i class="fa fa-github"></i> GitHub</a></li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container -->
</nav>


    
<div id="masthead">
  <div class="container">
    <div class="row">
      <div class="col-md-11">
        <h1>Starboard Module Reference: socket.h</h1>
      </div>
    </div>
  </div>
</div>


<div class="container">
    <div class="row scroll-margin" id="toc-content-row">
    <div class="col-md-2" id="leftCol">
      <ul class="nav nav-stacked mobile-left-nav-menu" id="sidebar">
        
  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu no-top-margin"><a href="/overview.html">Overview</a></h4>
      
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
        
          <h4 class="submenu">Porters</h4>
        
      
  <ul class="content">
      
        
    <li><b>Guides</b>
          
      <ul>
            
              
        <li><a href="/starboard/porting.html">Port Cobalt to your platform</a></li>
              
            
              
        <li><a href="/starboard/testing.html">Testing with NPLB</a></li>
              
            
      </ul>
    </li>
          
        
      
        
    <li><b>Reference</b>
          
      <ul>
            
              
        <li><a href="/reference/starboard/configuration-public.html">configuration_public.h</a></li>
              
            
              
        <li><a href="/reference/starboard/gyp-configuration.html">gyp_configuration.gypi</a></li>
              
            
              
                <li><b>Starboard modules</b>
                
          <ul>
                  
                    
                      <li><a href="/reference/starboard/modules/accessibility.html">accessibility.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/atomic.html">atomic.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/audio_sink.html">audio_sink.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/blitter.html">blitter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/byte_swap.html">byte_swap.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/character.html">character.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/condition_variable.html">condition_variable.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/configuration.html">configuration.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/cryptography.html">cryptography.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/decode_target.html">decode_target.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/directory.html">directory.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/double.html">double.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/drm.html">drm.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/event.html">event.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/export.html">export.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/file.html">file.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/image.html">image.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/input.html">input.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/key.html">key.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/log.html">log.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/media.html">media.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/memory.html">memory.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/memory_reporter.html">memory_reporter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/microphone.html">microphone.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/mutex.html">mutex.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/once.html">once.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/player.html">player.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/queue.html">queue.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/socket.html">socket.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/socket_waiter.html">socket_waiter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/speech_recognizer.html">speech_recognizer.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/speech_synthesis.html">speech_synthesis.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/spin_lock.html">spin_lock.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/storage.html">storage.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/string.html">string.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/system.html">system.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/thread.html">thread.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/thread_types.html">thread_types.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/time.html">time.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/time_zone.html">time_zone.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/types.html">types.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/user.html">user.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/window.html">window.h</a></li>
                    
                  
          </ul>
                
              
            
      </ul>
    </li>
          
        
      
  </ul>
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
        
          <h4 class="submenu">Developers</h4>
        
      
  <ul class="content">
      
        
    <li><b>Guides</b>
          
      <ul>
            
              
        <li><a href="/development/setup-linux.html">Setup - Linux</a></li>
              
            
              
        <li><a href="/development/setup-raspi.html">Setup - RasPi</a></li>
              
            
      </ul>
    </li>
          
        
      
        
    <li><b>Reference</b>
          
      <ul>
            
              
        <li><a href="/development/reference/supported-features.html">Cobalt support</a></li>
              
            
      </ul>
    </li>
          
        
      
  </ul>
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu"><a href="/contributors/index.html">Contributors</a></h4>
      
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu"><a href="/communication.html">Communication</a></h4>
      
    
</li>
  


      </ul>
    </div>
    <div class="col-md-3 show-share-buttons-bottom" id="rightCol">
      <div class="nav nav-stacked" id="tocSidebar">
        
        <div id="toc"></div>
        
          <div id="rightCol-share-buttons" class="share-buttons-bottom">
            

  


          </div>
        
      </div>
    </div>
    <div class="col-md-7" id="centerCol">
      <div id="content">
        <p>Defines Starboard socket I/O functions. Starboard supports IPv4 and IPv6, TCP
and UDP, server and client sockets. Some platforms may not support IPv6, some
may not support listening sockets, and some may not support any kind of sockets
at all (or only allow them in debug builds).</p>

<p>Starboard ONLY supports non-blocking socket I/O, so all sockets are non-blocking
at creation time.</p>

<p>Note that, on some platforms, API calls on one end of a socket connection may
not be instantaneously aware of manipulations on the socket at the other end of
the connection, thus requiring use of either an SbSocketWaiter or spin-polling.</p>

<p>TODO: For platforms that do not support sockets at all, they must support at
least a high-level HTTP client API (to be defined later).</p>

<h2 id="macros">Macros</h2>

<h3 id="ksbsocketinvalid">kSbSocketInvalid</h3>

<p>Well-defined value for an invalid socket handle.</p>

<h2 id="enums">Enums</h2>

<h3 id="sbsocketaddresstype">SbSocketAddressType</h3>

<p>All possible address types.</p>

<h4 id="values">Values</h4>

<ul>
<li><p><code class="prettyprint">kSbSocketAddressTypeIpv4</code></p>

<p>An IPv4 address, using only the first 4 entries of the address buffer.</p></li>
<li><p><code class="prettyprint">kSbSocketAddressTypeIpv6</code></p>

<p>An IPv6 address, which uses 16 entries of the address buffer.</p></li>
</ul>

<h3 id="sbsocketerror">SbSocketError</h3>

<p>Enumeration of all Starboard socket operation results. Despite the enum name,
note that the value actually describes the outcome of an operation, which is not
always an error.</p>

<h4 id="values">Values</h4>

<ul>
<li><p><code class="prettyprint">kSbSocketOk</code></p>

<p>The operation succeeded.</p></li>
<li><p><code class="prettyprint">kSbSocketPending</code></p>

<p>The operation is blocked on I/O. Either try again &quot;later,&quot; or be very clever
and wait on it with a SbSocketWaiter.</p></li>
<li><p><code class="prettyprint">kSbSocketErrorConnectionReset</code></p>

<p>This socket error is generated when the connection is reset unexpectedly and
the connection is now invalid. This might happen for example if an read
packet has the &quot;TCP RST&quot; bit set.</p></li>
<li><p><code class="prettyprint">kSbSocketErrorFailed</code></p>

<p>The operation failed for some other reason not specified above.</p></li>
</ul>

<h3 id="sbsocketprotocol">SbSocketProtocol</h3>

<p>All possible IP socket types.</p>

<h4 id="values">Values</h4>

<ul>
<li><p><code class="prettyprint">kSbSocketProtocolTcp</code></p>

<p>The TCP/IP protocol, a reliable, stateful, streaming protocol.</p></li>
<li><p><code class="prettyprint">kSbSocketProtocolUdp</code></p>

<p>The UDP/IP protocol, an unreliable, connectionless, discrete packet
(datagram) protocol.</p></li>
</ul>

<h3 id="sbsocketresolvefilter">SbSocketResolveFilter</h3>

<p>Bits that can be set when calling SbSocketResolve to filter the results.</p>

<h4 id="values">Values</h4>

<ul>
<li><p><code class="prettyprint">kSbSocketResolveFilterNone</code></p>

<p>No filters, include everything.</p></li>
<li><p><code class="prettyprint">kSbSocketResolveFilterIpv4</code></p>

<p>Include Ipv4 addresses.</p></li>
<li><p><code class="prettyprint">kSbSocketResolveFilterIpv6</code></p>

<p>Include Ipv6 addresses.</p></li>
</ul>

<h2 id="typedefs">Typedefs</h2>

<h3 id="sbsocket">SbSocket</h3>

<p>A handle to a socket.</p>

<h4 id="definition">Definition</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">typedef SbSocketPrivate* SbSocket
</code></pre></div>
<h2 id="structs">Structs</h2>

<h3 id="sbsocketaddress">SbSocketAddress</h3>

<p>A representation of any possible supported address type.</p>

<h4 id="members">Members</h4>

<ul>
<li><p><code class="prettyprint">uint8_t address</code></p>

<p>The storage for the address. For IPv4, only the first 4 bytes make up the
address. For IPv6, the entire buffer of 16 bytes is meaningful. An address
of all zeros means that the address is unspecified.</p></li>
<li><p><code class="prettyprint">SbSocketAddressType type</code></p>

<p>The type of address this represents (IPv4 vs IPv6).</p></li>
<li><p><code class="prettyprint">int port</code></p>

<p>The port component of this socket address. If not specified, it will be
zero, which is officially undefined.</p></li>
</ul>

<h3 id="sbsocketresolution">SbSocketResolution</h3>

<p>The result of a host name resolution.</p>

<h4 id="members">Members</h4>

<ul>
<li><p><code class="prettyprint">SbSocketAddress* addresses</code></p>

<p>An array of addresses associated with the host name.</p></li>
<li><p><code class="prettyprint">int address_count</code></p>

<p>The length of the <code class="prettyprint">addresses</code> array.</p></li>
</ul>

<h2 id="functions">Functions</h2>

<h3 id="sbsocketaccept">SbSocketAccept</h3>

<p>Accepts a pending connection on <code class="prettyprint">socket</code> and returns a new SbSocket representing
that connection. This function sets the error on <code class="prettyprint">socket</code> and returns
<code class="prettyprint">kSbSocketInvalid</code> if it is unable to accept a new connection.</p>

<p><code class="prettyprint">socket</code>: The SbSocket that is accepting a pending connection.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">SbSocket SbSocketAccept(SbSocket socket)
</code></pre></div>
<h3 id="sbsocketbind">SbSocketBind</h3>

<p>Binds <code class="prettyprint">socket</code> to a specific local interface and port specified by
<code class="prettyprint">local_address</code>. This function sets and returns the socket error if it is unable
to bind to <code class="prettyprint">local_address</code>.</p>

<p><code class="prettyprint">socket</code>: The SbSocket to be bound to the local interface. <code class="prettyprint">local_address</code>: The
local address to which the socket is to be bound. This value must not be <code class="prettyprint">NULL</code>.</p>

<ul>
<li><p>Setting the local address to port <code class="prettyprint">0</code> (or not specifying a port) indicates
that the function should choose a port for you.</p></li>
<li><p>Setting the IP address to <code class="prettyprint">0.0.0.0</code> means that the socket should be bound to
all interfaces.</p></li>
</ul>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">SbSocketError SbSocketBind(SbSocket socket, const SbSocketAddress *local_address)
</code></pre></div>
<h3 id="sbsocketclearlasterror">SbSocketClearLastError</h3>

<p>Clears the last error set on <code class="prettyprint">socket</code>. The return value indicates whether the
socket error was cleared.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">bool SbSocketClearLastError(SbSocket socket)
</code></pre></div>
<h3 id="sbsocketconnect">SbSocketConnect</h3>

<p>Opens a connection of <code class="prettyprint">socket</code>&#39;s type to the host and port specified by
<code class="prettyprint">address</code>. This function sets and returns the socket error if it is unable to
connect to <code class="prettyprint">address</code>. (It returns <code class="prettyprint">kSbSocketOk</code> if it creates the connection
successfully.)</p>

<p><code class="prettyprint">socket</code>: The type of connection that should be opened. <code class="prettyprint">address</code>: The host and
port to which the socket should connect.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">SbSocketError SbSocketConnect(SbSocket socket, const SbSocketAddress *address)
</code></pre></div>
<h3 id="sbsocketcreate">SbSocketCreate</h3>

<p>Creates a new non-blocking socket for protocol <code class="prettyprint">protocol</code> using address family
<code class="prettyprint">address_type</code>.</p>

<ul>
<li><p>If successful, this function returns the newly created handle.</p></li>
<li><p>If unsuccessful, this function returns <code class="prettyprint">kSbSocketInvalid</code> and also sets the
last system error appropriately.</p></li>
</ul>

<p><code class="prettyprint">address_type</code>: The type of IP address to use for the socket. <code class="prettyprint">protocol</code>: The
protocol to use for the socket.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">SbSocket SbSocketCreate(SbSocketAddressType address_type, SbSocketProtocol protocol)
</code></pre></div>
<h3 id="sbsocketdestroy">SbSocketDestroy</h3>

<p>Destroys the <code class="prettyprint">socket</code> by flushing it, closing any connection that may be active
on it, and reclaiming any resources associated with it, including any
registration with an <code class="prettyprint">SbSocketWaiter</code>.</p>

<p>The return value indicates whether the destruction was successful. However, even
if this function returns <code class="prettyprint">false</code>, you should not be able to use the socket any
more.</p>

<p><code class="prettyprint">socket</code>: The SbSocket to be destroyed.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">bool SbSocketDestroy(SbSocket socket)
</code></pre></div>
<h3 id="sbsocketfreeresolution">SbSocketFreeResolution</h3>

<p>Frees a resolution allocated by SbSocketResolve.</p>

<p><code class="prettyprint">resolution</code>: The resolution to be freed.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">void SbSocketFreeResolution(SbSocketResolution *resolution)
</code></pre></div>
<h3 id="sbsocketgetinterfaceaddress">SbSocketGetInterfaceAddress</h3>

<p>Gets the source address and the netmask that would be used to connect to the
destination. The netmask parameter is optional, and only populated if a non-NULL
parameter is passed in. To determine which source IP will be used, the kernel
takes into account the protocol, routes, destination ip, etc. The subnet mask,
aka netmask, is used to find the routing prefix. In IPv6, this should be derived
from the prefix value.</p>

<p>Returns whether it was possible to determine the source address and the netmask
(if non-NULL value is passed) to be used to connect to the destination. This
function could fail if the destination is not reachable, if it an invalid
address, etc.</p>

<p><code class="prettyprint">destination</code>: The destination IP to be connected to. If IP addresses is not
0.0.0.0 or ::, then temporary addresses may be returned.</p>

<p>If the destination address is 0.0.0.0, and its <code class="prettyprint">type</code> is
<code class="prettyprint">kSbSocketAddressTypeIpv4</code>, then any IPv4 local interface that is up and not a
loopback interface is a valid return value.</p>

<p>If the destination address is ::, and its <code class="prettyprint">type</code> is <code class="prettyprint">kSbSocketAddressTypeIpv6</code>
then any IPv6 local interface that is up and not loopback or a link-local IP is
a valid return value. However, in the case of IPv6, the address with the biggest
scope must be returned. E.g., a globally scoped and routable IP is prefered over
a unique local address (ULA). Also, the IP address that is returned must be
permanent.</p>

<p>If destination address is NULL, then any IP address that is valid for
<code class="prettyprint">destination</code> set to 0.0.0.0 (IPv4) or :: (IPv6) can be returned.</p>

<p><code class="prettyprint">out_source_address</code>: This function places the address of the local interface in
this output variable. <code class="prettyprint">out_netmask</code>: This parameter is optional. If a non-NULL
value is passed in, this function places the netmask associated with the source
address in this output variable.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">bool SbSocketGetInterfaceAddress(const SbSocketAddress *const destination, SbSocketAddress *out_source_address, SbSocketAddress *out_netmask)
</code></pre></div>
<h3 id="sbsocketgetlasterror">SbSocketGetLastError</h3>

<p>Returns the last error set on <code class="prettyprint">socket</code>. If <code class="prettyprint">socket</code> is not valid, this function
returns <code class="prettyprint">kSbSocketErrorFailed</code>.</p>

<p><code class="prettyprint">socket</code>: The SbSocket that the last error is returned for.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">SbSocketError SbSocketGetLastError(SbSocket socket)
</code></pre></div>
<h3 id="sbsocketgetlocaladdress">SbSocketGetLocalAddress</h3>

<p>Gets the address that this socket is bound to locally, if the socket is
connected. The return value indicates whether the address was retrieved
successfully.</p>

<p><code class="prettyprint">socket</code>: The SbSocket for which the local address is retrieved. <code class="prettyprint">out_address</code>:
The SbSocket&#39;s local address.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">bool SbSocketGetLocalAddress(SbSocket socket, SbSocketAddress *out_address)
</code></pre></div>
<h3 id="sbsocketisconnected">SbSocketIsConnected</h3>

<p>Indicates whether <code class="prettyprint">socket</code> is connected to anything. Invalid sockets are not
connected.</p>

<p><code class="prettyprint">socket</code>: The SbSocket to be checked.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">bool SbSocketIsConnected(SbSocket socket)
</code></pre></div>
<h3 id="sbsocketisconnectedandidle">SbSocketIsConnectedAndIdle</h3>

<p>Returns whether <code class="prettyprint">socket</code> is connected to anything, and, if so, whether it is
receiving any data.</p>

<p><code class="prettyprint">socket</code>: The SbSocket to be checked.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">bool SbSocketIsConnectedAndIdle(SbSocket socket)
</code></pre></div>
<h3 id="sbsocketisvalid">SbSocketIsValid</h3>

<p>Returns whether the given socket handle is valid.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">static bool SbSocketIsValid(SbSocket socket)
</code></pre></div>
<h3 id="sbsocketjoinmulticastgroup">SbSocketJoinMulticastGroup</h3>

<p>Joins <code class="prettyprint">socket</code> to an IP multicast group identified by <code class="prettyprint">address</code>. The equivalent
of IP_ADD_MEMBERSHIP. The return value indicates whether the socket was joined
to the group successfully.</p>

<p><code class="prettyprint">socket</code>: The SbSocket to be joined to the IP multicast group. <code class="prettyprint">address</code>: The
location of the IP multicast group.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">bool SbSocketJoinMulticastGroup(SbSocket socket, const SbSocketAddress *address)
</code></pre></div>
<h3 id="sbsocketlisten">SbSocketListen</h3>

<p>Causes <code class="prettyprint">socket</code> to listen on the local address that <code class="prettyprint">socket</code> was previously
bound to by SbSocketBind. This function sets and returns the socket error if it
is unable to listen for some reason. (It returns <code class="prettyprint">kSbSocketOk</code> if it creates the
connection successfully.)</p>

<p><code class="prettyprint">socket</code>: The SbSocket on which the function operates.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">SbSocketError SbSocketListen(SbSocket socket)
</code></pre></div>
<h3 id="sbsocketreceivefrom">SbSocketReceiveFrom</h3>

<p>Reads up to <code class="prettyprint">data_size</code> bytes from <code class="prettyprint">socket</code> into <code class="prettyprint">out_data</code> and places the
source address of the packet in <code class="prettyprint">out_source</code> if out_source is not NULL. Returns
the number of bytes read, or a negative number if there is an error, in which
case SbSocketGetLastError can provide the precise error encountered.</p>

<p>Note that this function is NOT specified to make a best effort to read all data
on all platforms, but it MAY still do so. It is specified to read however many
bytes are available conveniently, meaning that it should avoid blocking until
there is data. It can be run in a loop until SbSocketGetLastError returns
<code class="prettyprint">kSbSocketPending</code> to make it a best-effort read (but still only up to not
blocking, unless you want to spin).</p>

<p>The primary use of <code class="prettyprint">out_source</code> is to receive datagram packets from multiple
sources on a UDP server socket. TCP has two endpoints connected persistently, so
the address is unnecessary, but allowed.</p>

<p><code class="prettyprint">socket</code>: The SbSocket from which data is read. <code class="prettyprint">out_data</code>: The data read from
the socket. <code class="prettyprint">data_size</code>: The number of bytes to read. <code class="prettyprint">out_source</code>: The source
address of the packet.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">int SbSocketReceiveFrom(SbSocket socket, char *out_data, int data_size, SbSocketAddress *out_source)
</code></pre></div>
<h3 id="sbsocketresolve">SbSocketResolve</h3>

<p>Synchronously resolves <code class="prettyprint">hostname</code> into the returned SbSocketResolution , which
must be freed with SbSocketFreeResolution. The function returns <code class="prettyprint">NULL</code> if it is
unable to resolve <code class="prettyprint">hostname</code>.</p>

<p><code class="prettyprint">hostname</code>: The hostname to be resolved. <code class="prettyprint">filters</code>: A mask of
SbSocketResolveFilter values used to filter the resolution. If <code class="prettyprint">filters</code> does
not specify an IP address family filter, all address families are included.
However, if one IP address family filter is specified, only that address family
is included. The function ignores unrecognized filter bits.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">SbSocketResolution* SbSocketResolve(const char *hostname, int filters)
</code></pre></div>
<h3 id="sbsocketsendto">SbSocketSendTo</h3>

<p>Writes up to <code class="prettyprint">data_size</code> bytes of <code class="prettyprint">data</code> to <code class="prettyprint">destination</code> via <code class="prettyprint">socket</code>. Returns
the number of bytes written, or a negative number if there is an error, in which
case <code class="prettyprint">SbSocketGetLastError</code> can provide the precise error encountered.</p>

<p>Note that this function is NOT specified to make a best effort to write all data
on all platforms, but it MAY still do so. It is specified to write however many
bytes are available conveniently. It can be run in a loop until
SbSocketGetLastError returns <code class="prettyprint">kSbSocketPending</code> to make it a best-effort write
(but still only up to not blocking, unless you want to spin).</p>

<p><code class="prettyprint">socket</code>: The SbSocket to use to write data. <code class="prettyprint">data</code>: The data read from the
socket. <code class="prettyprint">data_size</code>: The number of bytes of <code class="prettyprint">data</code> to write. <code class="prettyprint">destination</code>: The
location to which data is written. This value must be <code class="prettyprint">NULL</code> for TCP
connections, which can only have a single endpoint.</p>

<p>The primary use of <code class="prettyprint">destination</code> is to send datagram packets, which can go out
to multiple sources from a single UDP server socket. TCP has two endpoints
connected persistently, so setting <code class="prettyprint">destination</code> when sending to a TCP socket
will cause an error.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">int SbSocketSendTo(SbSocket socket, const char *data, int data_size, const SbSocketAddress *destination)
</code></pre></div>
<h3 id="sbsocketsetbroadcast">SbSocketSetBroadcast</h3>

<p>Sets the <code class="prettyprint">SO_BROADCAST</code>, or equivalent, option to <code class="prettyprint">value</code> on <code class="prettyprint">socket</code>. The
return value indicates whether the option was actually set.</p>

<p>This option is only meaningful for UDP sockets and allows the socket to send to
the broadcast address.</p>

<p><code class="prettyprint">socket</code>: The SbSocket for which the option is set. <code class="prettyprint">value</code>: The new value for
the option.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">bool SbSocketSetBroadcast(SbSocket socket, bool value)
</code></pre></div>
<h3 id="sbsocketsetreceivebuffersize">SbSocketSetReceiveBufferSize</h3>

<p>Sets the <code class="prettyprint">SO_RCVBUF</code>, or equivalent, option to <code class="prettyprint">size</code> on <code class="prettyprint">socket</code>. The return
value indicates whether the option was actually set.</p>

<p><code class="prettyprint">socket</code>: The SbSocket for which the option is set. <code class="prettyprint">size</code>: The value for the
option.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">bool SbSocketSetReceiveBufferSize(SbSocket socket, int32_t size)
</code></pre></div>
<h3 id="sbsocketsetreuseaddress">SbSocketSetReuseAddress</h3>

<p>Sets the <code class="prettyprint">SO_REUSEADDR</code>, or equivalent, option to <code class="prettyprint">value</code> on <code class="prettyprint">socket</code>. The
return value indicates whether the option was actually set.</p>

<p>This option allows a bound address to be reused if a socket isn&#39;t actively bound
to it.</p>

<p><code class="prettyprint">socket</code>: The SbSocket for which the option is set. <code class="prettyprint">value</code>: The new value for
the option.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">bool SbSocketSetReuseAddress(SbSocket socket, bool value)
</code></pre></div>
<h3 id="sbsocketsetsendbuffersize">SbSocketSetSendBufferSize</h3>

<p>Sets the <code class="prettyprint">SO_SNDBUF</code>, or equivalent, option to <code class="prettyprint">size</code> on <code class="prettyprint">socket</code>. The return
value indicates whether the option was actually set.</p>

<p><code class="prettyprint">socket</code>: The SbSocket for which the option is set. <code class="prettyprint">size</code>: The value for the
option.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">bool SbSocketSetSendBufferSize(SbSocket socket, int32_t size)
</code></pre></div>
<h3 id="sbsocketsettcpkeepalive">SbSocketSetTcpKeepAlive</h3>

<p>Sets the <code class="prettyprint">SO_KEEPALIVE</code>, or equivalent, option to <code class="prettyprint">value</code> on <code class="prettyprint">socket</code>. The
return value indicates whether the option was actually set.</p>

<p><code class="prettyprint">socket</code>: The SbSocket for which the option is set. <code class="prettyprint">value</code>: If set to <code class="prettyprint">true</code>,
then <code class="prettyprint">period</code> specifies the minimum time (SbTime) is always in microseconds)
between keep-alive packets. If set to <code class="prettyprint">false</code>, <code class="prettyprint">period</code> is ignored. <code class="prettyprint">period</code>:
The time between keep-alive packets. This value is only relevant if <code class="prettyprint">value</code> is
<code class="prettyprint">true</code>.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">bool SbSocketSetTcpKeepAlive(SbSocket socket, bool value, SbTime period)
</code></pre></div>
<h3 id="sbsocketsettcpnodelay">SbSocketSetTcpNoDelay</h3>

<p>Sets the <code class="prettyprint">TCP_NODELAY</code>, or equivalent, option to <code class="prettyprint">value</code> on <code class="prettyprint">socket</code>. The return
value indicates whether the option was actually set.</p>

<p>This function disables the Nagle algorithm for reducing the number of packets
sent when converting from a stream to packets. Disabling Nagle generally puts
the data for each Send call into its own packet, but does not guarantee that
behavior.</p>

<p><code class="prettyprint">socket</code>: The SbSocket for which the option is set. <code class="prettyprint">value</code>: Indicates whether
the Nagle algorithm should be disabled (<code class="prettyprint">value</code>=<code class="prettyprint">true</code>).</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">bool SbSocketSetTcpNoDelay(SbSocket socket, bool value)
</code></pre></div>
<h3 id="sbsocketsettcpwindowscaling">SbSocketSetTcpWindowScaling</h3>

<p>Sets the <code class="prettyprint">SO_WINSCALE</code>, or equivalent, option to <code class="prettyprint">value</code> on <code class="prettyprint">socket</code>. The return
value indicates whether the option was actually set.</p>

<p><code class="prettyprint">socket</code>: The SbSocket for which the option is set. <code class="prettyprint">value</code>: The value for the
option.</p>

<h4 id="declaration">Declaration</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">bool SbSocketSetTcpWindowScaling(SbSocket socket, bool value)
</code></pre></div>
        
          
            
          
        
      </div>
    </div>
  </div>

</div>


    
      <footer>
<div class="container">
    <div class="row">
      
        <div class="col-md-5 column-left">
          
          
            
              
  
    <span class="copyright-text">© Google 2019</span>
  


            
            
            
            
            
          
        </div>
      
        <div class="col-md-2 column-middle">
          
          
            
            
            
            
              
  <img class="footer-logo" src="/images/cobalt-logo.png" alt="Cobalt"/>


            
            
          
        </div>
      
<!--
          
          <div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div class="fb-share-button" data-href="/reference/starboard/modules/6/socket.html" data-layout=""></div>
&nbsp;
          <a href="https://twitter.com/" class="twitter-follow-button" data-show-screen-name="false" data-show-count="false" data-size=""></a>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


-->
    </div>
</div>
</footer>

    

    <!-- TODO: Make sure no badness from moving common.js to styles.liquid -->

    
  </body>
</html>
